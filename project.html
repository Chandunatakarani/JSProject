<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>foodproject</title>
    <link rel="stylesheet" href="project.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

</head>

<body>
    <div class="header">
        <div class="logo">
            <h3>MEAL FINDER</h3>
        </div>
        <div class="hamburger">
            <i id="icon22" class="fa-solid fa-bars"></i>
        </div>
    </div>
    <section class="backimg">
        <div class="search">
            <input type="search" placeholder="search recipies here..." id=scr>
            <i class="fa-solid fa-magnifying-glass" style="border:1px solid red" id="icon"></i>

        </div>
        <div class="imagetext">
            <h1>What are your favorite cuisines?</h1>
            <h3>Personalize Your Experience</h3>
        </div>

    </section>
    <div id="drop">

        <ul>
            <i style="margin-left:120px;" id="cancel" class="fa-solid fa-xmark"></i>

            <li>Beef</li>
            <hr>
            <li>Chicken</li>
            <hr>
            <li>Dessert</li>
            <hr>
            <li>Lamb</li>
            <hr>
            <li>Miscellaneous</li>
            <hr>
            <li>Pasta</li>
            <hr>
            <li>Pork</li>
            <hr>
            <li>Seafood</li>
            <hr>
            <li>Side</li>
            <hr>
            <li>Starter</li>
            <hr>
            <li>Vegan</li>
            <hr>
            <li>Vegetarian</li>
            <hr>
            <li>Breakfast</li>
            <hr>
            <li>Goat</li>
            <hr>
        </ul>
    </div>
    <section class="singleitem">
        <h1 id="meal"style="display:none;">Meals</h1>
        
        <p id="searchitem"></p>
    </section>
    <h1>CATEGORIES</h1>

    <section class="api" style="background-color: aliceblue;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">
        <img class="image" style="background-color: white;">



        <script>

            document.getElementById('icon22').addEventListener('click', () => {
                document.getElementById('drop').style.display = 'block'
            })
            document.getElementById('cancel').addEventListener('click', () => {
                document.getElementById('drop').style.display = 'none'
            })
  
               fetch('https://www.themealdb.com/api/json/v1/1/categories.php')
               .then(res=>res.json())
               .then(data =>{
               let chandu=''
               data.categories.forEach(category => {
                
               
               chandu +=`
               <img src="${category.strCategoryThumb}" alt="thumbnail">
             <button id="beef">${category.strCategory}</button>
               `
            });
            
              let chandu1= document.getElementsByClassName('api')
              if(chandu1.length>0){
                chandu1[0].innerHTML=chandu
              }
               })
            // let photo = [];
            // photo.push(fetch('https://www.themealdb.com/api/json/v1/1/categories.php').then(res => res.json()))
            // Promise.all(photo)
            //     .then(output => {
            //         let chandu = output[0].categories
            //         chandu.forEach((category, index) => {
            //             if (index < document.getElementsByClassName('image').length) {

            //                 document.getElementsByClassName('image')[index].setAttribute('src', category.strCategoryThumb)
            //                 // document.getElementsByClassName('image')[index].setAttribute('', category.strCategoryThumb)

                            


            //             }

            //         });
            //     })

            let searchButton = document.getElementById('icon');
            searchButton.addEventListener('click', () => {
                           let searchtype = document.getElementById('scr').value
                console.log(searchtype)

                fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${searchtype}`).then(res => res.json())
                    .then(data => {
                      
                        if (data.meals && data.meals.length > 0) {
                            let html = data.meals.map(meal => `
                    <img  style="width:200px;" src="${meal.strMealThumb}">
                    <button id="btn1">${meal.strCategory}</button>
                    <h5>${meal.strArea}</h5>
                    <h4>${meal.strMeal}</h4>
                    `).join('')
                            
                        
                            document.getElementById('searchitem').innerHTML = html
                        }
                        else{
                            document.getElementById('searchitem').innerHTML='<p style="color:red;">no meals found</P>'
                        }
                    })



                        })






        </script>



</body>

</html>